{% extends 'base.html' %}
{% load static %}

{% block css %}
<link rel="stylesheet" type="text/css" charset="utf-8"
    href="{% static 'css/pageHome.min.css' %}?v{{ settings.STATIC_VERSION }}">
{% endblock %}

{% block main %}
<main>
    <section class="section">
        <h2>Список задач</h2>
        <nav class="menu taskMenu">
            <div class="menu__item dropMenu">
                <button class="menuBtn"><i class="fas fa-sort"></i>Сортировать</button>
                <ul class="dropList">
                    <li class="dropList__item">по имени</lidropList>
                    <li class="dropList__item">по почте</li>
                    <li class="dropList__item">по статусу</li>
                </ul>
            </div>
        </nav>
        <div class="taskList">
            {% for task in taskList %}
            <div class="task" id="{{ task.id }}">
                <div class="taskHeader">
                    <span class="taskHeader__item taskTitle">{{ task.title }}</span>
                    <span class="taskHeader__item taskUser">{{ task.user }}</span>
                    <span class="taskHeader__item taskEmail">{{ task.email }}</span>
                    <button type="button" class="taskHeader__item taskControls" taskid="{{ task.id }}"></button>
                </div>
                <div class="taskBody">{{ task.description }}</div>
            </div>
            {% endfor %}
        </div>
        <div class="taskControls">
            <button class="btn taskControl" action="prev">
                <i class="fas fa-chevron-left"></i>
            </button>
            <button class="btn taskControl" action="next">
                <i class="fas fa-chevron-right"></i>
            </button>
        </div>
    </section>
    <section class="section" window="empty">
        <h2>Добавить задачу</h2>
        <form class="taskCreateForm" action="/createtask/" method="post">
            <input type="text" name="username" class="inputField" id="username" placeholder="ФИО">
            <input type="text" name="email" class="inputField" id="email" placeholder="Email">
            <input type="text" name="title" class="inputField" id="tasktitle" placeholder="Название">
            <textarea name="description" class="inputField" id="taskdesc" cols="30" rows="10"
                placeholder="Описание"></textarea>
            <button type="confirm" class="btn" id="create_task">Создать</button>
        </form>
        <h2>Редактирование</h2>
        <form class="taskCreateForm" action="/createtask/" method="post">
            <input type="hidden" name="id" id="id" value="8">
            <input type="text" name="username" class="inputField" id="username" placeholder="ФИО">
            <input type="text" name="email" class="inputField" id="email" placeholder="Email">
            <input type="text" name="title" class="inputField" id="tasktitle" placeholder="Название">
            <textarea name="description" class="inputField" id="taskdesc" cols="30" rows="10"
                placeholder="Описание"></textarea>
            <button type="confirm" class="btn" id="create_task">Сохранить</button>
        </form>
    </section>
</main>
{% endblock %}

{% block tail %}
<script src="https://code.jquery.com/jquery-3.4.1.min.js"
    integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous" defer></script>
<script type="text/javascript" src="{% static 'js/pageHome.min.js' %}?v{{ settings.STATIC_VERSION }}" charset="utf-8"
    defer></script>
{% endblock %}