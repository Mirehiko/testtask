$('.taskStateToggler').on('click', function (e) {
    const task = $(`.task[taskid="${$(this).attr('taskid')}"]`);
    if (task.hasClass('task-opened')) {
        task.removeClass('task-opened');
    } else {
        task.addClass('task-opened');
    }
});

$('.taskEdit').on('click', function (e) {
    const taskid = $(this).attr('taskid');
    $(`.inputField[name="taskid"]`).val(taskid);
    $(`.inputField[name="username"]`).val(taskList[taskid].user);
    $(`.inputField[name="email"]`).val(taskList[taskid].email);
    $(`.inputField[name="title"]`).val(taskList[taskid].title);
    $(`.inputField[name="description"]`).text(taskList[taskid].description);
});

$('.taskControl').on('click', function (e) {
    e.preventDefault();
    setPage(toPage[$(this).attr('action')]);
});


function setPage(pageNumber) {
    $.ajax({
        url: '/api/tasklist/',
        type: "GET",
        data: pageNumber,
        dataType: "json",
        success: function (response) {
            console.log('response:', response);
            // draw results
        }
    });
}

function getFormData() {
    return {
        taskid: $(`.inputField[name="taskid"]`).val(),
        taskid: $(`.inputField[name="username"]`).val(),
        taskid: $(`.inputField[name="email"]`).val(),
        taskid: $(`.inputField[name="title"]`).val(),
        taskid: $(`.inputField[name="description"]`).text(),
    };
}

class Task {
    static create(data) {
        $.ajax({
            url: '/api/tasklist/',
            type: "GET",
            data: data,
            dataType: "json",
            success: function (response) {
                console.log('response:', response);
                // draw results
            }
        });
    }
    static update(data) {
        $.ajax({
            url: '/api/updatetask/',
            type: "GET",
            data: data,
            dataType: "json",
            success: function (response) {
                console.log('response:', response);
                // draw results
            }
        });
    }
}